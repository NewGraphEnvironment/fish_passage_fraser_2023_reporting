# Background

## Project Location

<!-- simpcw watersheds with 2023 assessments: -->
<!-- - upper fraser river (UFRA) -->
<!-- - Morkill River (MORK), not sure if we want to include this one because we didn't actually have any sites on this river. Most sites were small tribs to the fraser. -->

This study includes the Upper Fraser River north of Valemount to Prince George and many of its tributaries, including the Nechako and McLennan River.


```{r overview-map, fig.cap = 'Overview map of Study Areas',eval=T}
knitr::include_graphics("fig/nge-icon_name.png")
```

## Upper Fraser River

The Fraser River flows nearly 1400km from the Rocky Mountains of Mount Robson Provincial Park to the Straight of Georgia near Vancouver and is the largest salmon-producing river on Canada's west coast [@bradford_taylor2023Diversityfreshwater]. The river is economically significant due to its role in supporting forestry, agriculture, and hydroelectric power generation. Additionally, the Upper Fraser River is crucial for fisheries, particularly for salmon populations, which are vital to both the local ecosystem and indigenous communities.

The Upper Fraser River is commonly defined as the section of mainstem north of Quenel, which flows through the Cariboo and Fraser Plateau regions. Major tributaries to the Upper Fraser River include the Nechako, Quesnel, and McGregor rivers [@shaw_tuominenWaterQuality]. The vast expanse of the Upper Fraser supports many indigenous groups that utilize the land for cultural, spiritual, and economic practices. Some of these indigenous groups include the Ts’il Kaz Koh (Burns Lake Band), Nadleh Whut’en, Saik’uz First Nation, Stellat’en First Nation, Takla Nation, and Wet’suwet’en First Nation [@CSTCCSFNs]. 

The seasonal hydrograph for the Upper Fraser has a single broad peak in early summer due to snow and glacial melt from surrounding mountain ranges (Figures \@ref(fig:hydrograph1) - \@ref(fig:hydrology-stats1)). The mean annual discharge at station 08KA005 in McBride, located roughly 200km southeast of Price George, is `r round(fasstr::calc_longterm_mean(station_number = "08KA005")$LTMAD,1)` m^3^/.

<!-- - FR in McBride, station 08KA005 -->
```{r mcbride-hydat, eval=F}
lfpr_create_hydrograph("08KA005")
```

```{r hydrograph1, fig.cap = "Fraser River At Mcbride (Station #08KA005 - Lat 53.30172 Lon -120.14092). Available mean daily discharge data from 1953 to 2021. "}
knitr::include_graphics("fig/hydrograph_08KA005.png")
```

```{r hydrology-stats1, fig.cap = "Fraser River At Mcbride (Station #08KA005 - Lat 53.30172 Lon -120.14092). Available daily discharge data from 1953 to 2021. "}
knitr::include_graphics("fig/hydrology_stats_08KA005.png")
```


<!-- Other available nearby stations: -->

<!-- - FR in Hansard, upstream of McGregor river confluence, station 08KA004 -->
```{r hansard-hydat, eval=F}
lfpr_create_hydrograph("08KA004")
```

<!-- - FR in Price George, just downstream of Nechako confluence, station 08KE018. It looks like its active (https://wateroffice.ec.gc.ca/report/real_time_e.html?stn=08KE018&mode=Graph&startDate=2024-07-12&endDate=2024-07-19&prm1=46&prm2=3) but tidyhydat only pulls data from 1984 -->

```{r pg-hydat, eval=F}
tidyhydat::hy_daily_flows(station_number = "08KE018")
lfpr_create_hydrograph("08KE018")
```


## Morkill River

<!-- Unsure if we want to include this one, see note above.  -->

<!-- - hydat station on Morkill river, station 08KA013 -->
```{r morkill-hydat, eval=F}
lfpr_create_hydrograph("08KA013")
```

## Nechako River

The Nechako River is an 8th order stream that drains an area of `r fwapgr::fwa_watershed_at_measure(356362759) %>% mutate(area_km2 = round(area_ha/100, 1)) %>% mutate(area_km2 = ifelse(area_km2 >= 1000, format(area_km2, big.mark = ",", scientific = FALSE), area_km2)) %>% pull(area_km2)` km^2^. Beginning at the Nechako Plateau, it flows north towards Fort Fraser then east to its confluence with the Fraser River in Prince George. The Nachako River has three main tributaries: the Stuart River, the Endako River, and the Chilako River. It has a mean annual discharge of `r round(fasstr::calc_longterm_mean(station_number = "08JC001")$LTMAD,1)` m^3^/s at station 08JC001 located in Vanderhoof and `r round(fasstr::calc_longterm_mean(station_number = "08JC002")$LTMAD,1)` m^3^/s at station 08JC002 located in Isle Pierre, \~25km downstream of the Stuart River confluence. Flow patterns at Isle Pierre are heavily influenced by inflows from the Stuart River (enters downstream of Vanderhoof) resulting in higher peak levels and average discharge (Figures \@ref(fig:hydrology-plots2) - \@ref(fig:hydrology-stats2)). The hygrograph at station 08JC001 in Vanderhoof peaks in June and August, with lower peak levels and average discharge (Figures \@ref(fig:hydrology-plots2) - \@ref(fig:hydrology-stats3)).


```{r, eval=FALSE}
hydat_stations <- fpr::fpr_db_query(query = lfpr_dbq_clip('whse_environmental_monitoring.envcan_hydrometric_stn_sp',
'whse_basemapping.fwa_watershed_groups_poly', 'watershed_group_code', c("FRAN", "LCHL","NECR")))
```

```{r, eval= FALSE}
# Use if you want to create a hydrograph for a each station, won't print captions though
hydat_stations %>% 
  dplyr::filter(station_operating_status == "ACTIVE-REALTIME") %>% 
  dplyr::filter(!(station_number == '08JB007')) %>% 
  pull(station_number) %>%
  lapply(fpr_create_hydrograph_local)

```


```{r, eval=TRUE}
# starting at 1948 because that's where consistent data starts
lfpr_create_hydrograph("08JC001", start_year = 1948)
```

```{r, eval=TRUE}
lfpr_create_hydrograph("08JC002")
```

```{r hydrology-plots2, fig.cap = 'Hydrograph for Nechako River at Vanderhoof (Station #08JC001) and at Isle Pierre (Station #08JC002).', fig.show="hold", out.width= c("49.5%","1%","49.5%"), eval=T}
knitr::include_graphics("fig/hydrograph_08JC001.png")
knitr::include_graphics("fig/pixel.png")
knitr::include_graphics("fig/hydrograph_08JC002.png")
```

```{r hydrology-stats2, fig.cap = "Nechako River At Isle Pierre (Station #08JC002 - Lat 53.96044 Lon -123.23486). Available daily discharge data from 1950 to 2022."}
knitr::include_graphics("fig/hydrology_stats_08JC002.png")
```

```{r hydrology-stats3, fig.cap = "Nechako River At Vanderhoof (Station #08JC001 - Lat 54.02673 Lon -124.00865). Available daily discharge data from 1948 to 2021."}
knitr::include_graphics("fig/hydrology_stats_08JC001.png")
```



## Endako River

The Endako River is a 6th order stream that flows south east from Burns Lake to Fraser Lake. It drains an area of `r fwapgr::fwa_watershed_at_measure(356361442) %>% mutate(area_km2 = round(area_ha/100, 1)) %>% mutate(area_km2 = ifelse(area_km2 >= 1000, format(area_km2, big.mark = ",", scientific = FALSE), area_km2)) %>% pull(area_km2)` km^2^. There is one hydrometric station on the Endako River located in Endako, but it was only active for one year during 1951. Given the one year of data, the mean annual discharge is `r round(fasstr::calc_longterm_mean(station_number = "08JB004")$LTMAD,1)` m^3^/s at station 08JB004. The hydrograph peaks in May-June (Figures \@ref(fig:hydrograph3)).

```{r, eval=FALSE}
lfpr_create_hydrograph("08JB004")
```

```{r hydrograph3, fig.cap = "Endako River At Endako (Station #08JB004 - Lat 54.08194 Lon -125.021111). Available mean daily discharge data from 1950 to 1951."}
knitr::include_graphics("fig/hydrograph_08JB004.png")
```

```{r hydrology-stats4, fig.cap = "Endako River At Endako (Station #08JB004 - Lat 54.08194 Lon -125.021111). Available daily discharge data from 1950 to 1951.", eval=FALSE}
knitr::include_graphics("fig/hydrology_stats_08JB004.png")
```

## Chilako River

The Chilako River is a 6th order stream that flows north from the Nechako Plateau to the Nechako River. It drains an area of `r fwapgr::fwa_watershed_at_measure(356363121) %>% mutate(area_km2 = round(area_ha/100, 1)) %>% mutate(area_km2 = ifelse(area_km2 >= 1000, format(area_km2, big.mark = ",", scientific = FALSE), area_km2)) %>% pull(area_km2)` km^2^. There is one hydrometric station on the Chilako River located ~10km upstream of the mouth, but it was only active from 1960-1974. Given this data, the hydrograph peaks in May-June (Figures \@ref(fig:hydrograph4) - \@ref(fig:hydrology-stats5)).

```{r, eval=FALSE}
lfpr_create_hydrograph("08JC005")
```

```{r hydrograph4, fig.cap = "Chilako River Near Prince George (Station #08JC005 - Lat 53.808891 Lon -122.988892). Available mean daily discharge data from 1960 to 1974."}
knitr::include_graphics("fig/hydrograph_08JC005.png")
```

```{r hydrology-stats5, fig.cap = "Chilako River Near Prince George (Station #08JC005 - Lat 53.808891 Lon -122.988892). Available daily discharge data from 1960 to 1974."}
knitr::include_graphics("fig/hydrology_stats_08JC005.png")
```


